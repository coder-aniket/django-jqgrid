{% extends 'example/base.html' %}
{% load static %}

{% block title %}{{ title }} - Django jqGrid Examples{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'example/css/advanced-features.css' %}">
<style>
.feature-demo {
    border: 1px solid #dee2e6;
    border-radius: 0.375rem;
    margin-bottom: 2rem;
}

.feature-demo .demo-header {
    background-color: #f8f9fa;
    padding: 1rem;
    border-bottom: 1px solid #dee2e6;
    border-radius: 0.375rem 0.375rem 0 0;
}

.feature-demo .demo-content {
    padding: 1.5rem;
}

.grid-builder {
    background: #ffffff;
    border: 1px solid #e3e6f0;
    border-radius: 0.35rem;
    box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
}

.config-panel {
    background: #f8f9fa;
    min-height: 400px;
}

.code-preview {
    background: #2d3748;
    color: #e2e8f0;
    border-radius: 0.375rem;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.875rem;
}

.btn-feature {
    margin: 0.25rem;
}

.inline-edit-demo .jqgrow.ui-state-edit {
    background-color: #fff3cd !important;
}

.status-indicator {
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    margin-right: 0.5rem;
}

.status-active { background-color: #28a745; }
.status-inactive { background-color: #dc3545; }
.status-pending { background-color: #ffc107; }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row mb-4">
        <div class="col-md-8">
            <h1 class="h2">
                <i class="fas fa-cogs text-primary"></i>
                {{ title }}
            </h1>
            <p class="text-muted">{{ description }}</p>
        </div>
        <div class="col-md-4 text-end">
            <a href="{% url 'example:index' %}" class="btn btn-outline-primary">
                <i class="fas fa-arrow-left"></i>
                Back to Examples
            </a>
        </div>
    </div>

    <!-- Interactive Grid Builder -->
    <div class="feature-demo">
        <div class="demo-header">
            <h3 class="mb-0">
                <i class="fas fa-tools text-primary"></i>
                Interactive Grid Builder
            </h3>
            <p class="mb-0 text-muted">Design and configure jqGrid with live preview</p>
        </div>
        <div class="demo-content">
            <div class="row">
                <div class="col-md-4">
                    <div class="config-panel">
                        <!-- Configuration Tabs -->
                        <ul class="nav nav-tabs nav-tabs-sm" id="configTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="basic-tab" data-bs-toggle="tab" data-bs-target="#basic-config" type="button" role="tab">Basic</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="columns-tab" data-bs-toggle="tab" data-bs-target="#columns-config" type="button" role="tab">Columns</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="appearance-tab" data-bs-toggle="tab" data-bs-target="#appearance-config" type="button" role="tab">Style</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="theme-tab" data-bs-toggle="tab" data-bs-target="#theme-config" type="button" role="tab">Theme</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="data-tab" data-bs-toggle="tab" data-bs-target="#data-config" type="button" role="tab">Data</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="filters-tab" data-bs-toggle="tab" data-bs-target="#filters-config" type="button" role="tab">Filters</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="navigation-tab" data-bs-toggle="tab" data-bs-target="#navigation-config" type="button" role="tab">Actions</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="forms-tab" data-bs-toggle="tab" data-bs-target="#forms-config" type="button" role="tab">Forms</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="subgrid-tab" data-bs-toggle="tab" data-bs-target="#subgrid-config" type="button" role="tab">SubGrid</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="events-tab" data-bs-toggle="tab" data-bs-target="#events-config" type="button" role="tab">Events</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="plugins-tab" data-bs-toggle="tab" data-bs-target="#plugins-config" type="button" role="tab">Plugins</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="advanced-tab" data-bs-toggle="tab" data-bs-target="#advanced-config" type="button" role="tab">Advanced</button>
                            </li>
                        </ul>
                        
                        <div class="tab-content p-3" id="configTabContent" style="height: 520px; overflow-y: auto;">
                            
                            <!-- Basic Configuration Tab -->
                            <div class="tab-pane fade show active" id="basic-config" role="tabpanel">
                                <h6>Basic Settings</h6>
                                
                                <div class="mb-3">
                                    <label class="form-label">Grid Title</label>
                                    <input type="text" id="gridTitle" class="form-control form-control-sm" value="Sample Grid" onchange="updateGridConfig()">
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Width</label>
                                        <select id="gridWidth" class="form-select form-select-sm" onchange="updateGridConfig()">
                                            <option value="auto" selected>Auto</option>
                                            <option value="100%">100%</option>
                                            <option value="800">800px</option>
                                            <option value="1000">1000px</option>
                                            <option value="1200">1200px</option>
                                        </select>
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">Height</label>
                                        <input type="number" id="gridHeight" class="form-control form-control-sm" value="350" min="200" max="800" onchange="updateGridConfig()">
                                    </div>
                                </div>
                                
                                <h6>Pagination</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enablePager" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enablePager">Enable Pager</label>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Rows per Page</label>
                                        <select id="rowNum" class="form-select form-select-sm" onchange="updateGridConfig()">
                                            <option value="5">5</option>
                                            <option value="10">10</option>
                                            <option value="20">20</option>
                                            <option value="25" selected>25</option>
                                            <option value="50">50</option>
                                            <option value="100">100</option>
                                        </select>
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">Page Size Options</label>
                                        <input type="text" id="rowList" class="form-control form-control-sm" value="10,20,25,50" onchange="updateGridConfig()" placeholder="10,20,50">
                                    </div>
                                </div>
                                
                                <h6>Features</h6>
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="multiselect" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="multiselect">Multi-select</label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="rownumbers" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="rownumbers">Row Numbers</label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="viewrecords" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="viewrecords">View Records</label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="autowidth" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="autowidth">Auto Width</label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="shrinkToFit" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="shrinkToFit">Shrink to Fit</label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="resizable" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="resizable">Resizable</label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="sortable" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="sortable">Sortable</label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="toolbar" onchange="updateGridConfig()">
                                            <label class="form-check-label" for="toolbar">Toolbar</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Columns Configuration Tab -->
                            <div class="tab-pane fade" id="columns-config" role="tabpanel">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h6>Column Configuration</h6>
                                    <button class="btn btn-outline-primary btn-sm" onclick="addColumn()">
                                        <i class="fas fa-plus"></i> Add Column
                                    </button>
                                </div>
                                
                                <div id="columnConfig">
                                    <!-- Columns will be dynamically added here -->
                                </div>
                                
                                <div class="mt-3">
                                    <button class="btn btn-outline-secondary btn-sm" onclick="resetColumns()">Reset to Default</button>
                                    <button class="btn btn-outline-info btn-sm" onclick="importColumns()">Import Columns</button>
                                </div>
                            </div>
                            
                            <!-- Appearance Configuration Tab -->
                            <div class="tab-pane fade" id="appearance-config" role="tabpanel">
                                <h6>Theme & Styling</h6>
                                
                                <div class="mb-3">
                                    <label class="form-label">Theme</label>
                                    <select id="gridTheme" class="form-select form-select-sm" onchange="updateGridConfig()">
                                        <option value="ui-lightness">UI Lightness</option>
                                        <option value="ui-darkness">UI Darkness</option>
                                        <option value="bootstrap" selected>Bootstrap</option>
                                        <option value="custom">Custom</option>
                                    </select>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Caption Class</label>
                                    <input type="text" id="captionClass" class="form-control form-control-sm" placeholder="custom-caption" onchange="updateGridConfig()">
                                </div>
                                
                                <h6>Colors</h6>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Header Color</label>
                                        <input type="color" id="headerColor" class="form-control form-control-color form-control-sm" value="#f8f9fa" onchange="updateGridConfig()">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">Row Color</label>
                                        <input type="color" id="rowColor" class="form-control form-control-color form-control-sm" value="#ffffff" onchange="updateGridConfig()">
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Alt Row Color</label>
                                        <input type="color" id="altRowColor" class="form-control form-control-color form-control-sm" value="#f8f9fa" onchange="updateGridConfig()">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">Border Color</label>
                                        <input type="color" id="borderColor" class="form-control form-control-color form-control-sm" value="#dee2e6" onchange="updateGridConfig()">
                                    </div>
                                </div>
                                
                                <h6>Typography</h6>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Font Size</label>
                                        <select id="fontSize" class="form-select form-select-sm" onchange="updateGridConfig()">
                                            <option value="11px">11px</option>
                                            <option value="12px">12px</option>
                                            <option value="13px" selected>13px</option>
                                            <option value="14px">14px</option>
                                            <option value="16px">16px</option>
                                        </select>
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">Font Family</label>
                                        <select id="fontFamily" class="form-select form-select-sm" onchange="updateGridConfig()">
                                            <option value="inherit" selected>Default</option>
                                            <option value="Arial, sans-serif">Arial</option>
                                            <option value="'Times New Roman', serif">Times New Roman</option>
                                            <option value="monospace">Monospace</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <h6>Hover Effects</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="hoverRows" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="hoverRows">Row Hover</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="altRows" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="altRows">Alternate Row Colors</label>
                                </div>
                            </div>
                            
                            <!-- Theme Configuration Tab -->
                            <div class="tab-pane fade" id="theme-config" role="tabpanel">
                                <h6>Theme Selection</h6>
                                
                                <div class="mb-3">
                                    <label class="form-label">Grid Theme</label>
                                    <select id="gridTheme" class="form-select form-select-sm" onchange="updateGridConfig()">
                                        <option value="bootstrap">Bootstrap Default</option>
                                        <option value="ui-lightness">UI Lightness</option>
                                        <option value="ui-darkness">UI Darkness</option>
                                        <option value="material">Material Design</option>
                                        <option value="dark-mode">Modern Dark</option>
                                        <option value="custom">Custom Theme</option>
                                    </select>
                                    <small class="form-text text-muted">Select a predefined theme or create a custom one</small>
                                </div>
                                
                                <div class="mb-3">
                                    <div class="btn-group" role="group">
                                        <button type="button" class="btn btn-outline-primary btn-sm" onclick="exportTheme()">
                                            <i class="fas fa-download"></i> Export Theme
                                        </button>
                                        <button type="button" class="btn btn-outline-secondary btn-sm" onclick="importTheme()">
                                            <i class="fas fa-upload"></i> Import Theme
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Custom Theme Options (Hidden by default) -->
                                <div id="customThemeOptions" style="display: none;">
                                    <h6>Custom Theme Builder</h6>
                                    
                                    <div class="row mb-3">
                                        <div class="col-6">
                                            <label class="form-label">Primary Color</label>
                                            <input type="color" id="customPrimary" class="form-control form-control-color" value="#007bff" title="Primary color for buttons and accents">
                                        </div>
                                        <div class="col-6">
                                            <label class="form-label">Secondary Color</label>
                                            <input type="color" id="customSecondary" class="form-control form-control-color" value="#6c757d" title="Secondary color for subtle elements">
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-6">
                                            <label class="form-label">Success Color</label>
                                            <input type="color" id="customSuccess" class="form-control form-control-color" value="#28a745" title="Success state color">
                                        </div>
                                        <div class="col-6">
                                            <label class="form-label">Warning Color</label>
                                            <input type="color" id="customWarning" class="form-control form-control-color" value="#ffc107" title="Warning state color">
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-6">
                                            <label class="form-label">Danger Color</label>
                                            <input type="color" id="customDanger" class="form-control form-control-color" value="#dc3545" title="Danger state color">
                                        </div>
                                        <div class="col-6">
                                            <label class="form-label">Info Color</label>
                                            <input type="color" id="customInfo" class="form-control form-control-color" value="#17a2b8" title="Info state color">
                                        </div>
                                    </div>
                                    
                                    <h6>Background & Text</h6>
                                    
                                    <div class="row mb-3">
                                        <div class="col-6">
                                            <label class="form-label">Background Color</label>
                                            <input type="color" id="customBackground" class="form-control form-control-color" value="#ffffff" title="Main background color">
                                        </div>
                                        <div class="col-6">
                                            <label class="form-label">Text Color</label>
                                            <input type="color" id="customText" class="form-control form-control-color" value="#212529" title="Main text color">
                                        </div>
                                    </div>
                                    
                                    <h6>Header Styling</h6>
                                    
                                    <div class="row mb-3">
                                        <div class="col-6">
                                            <label class="form-label">Header Background</label>
                                            <input type="color" id="customHeaderBg" class="form-control form-control-color" value="#f8f9fa" title="Header background color">
                                        </div>
                                        <div class="col-6">
                                            <label class="form-label">Header Text</label>
                                            <input type="color" id="customHeaderText" class="form-control form-control-color" value="#495057" title="Header text color">
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label class="form-label">Border Color</label>
                                        <input type="color" id="customBorder" class="form-control form-control-color" value="#dee2e6" title="Border and separator color">
                                    </div>
                                    
                                    <div class="mb-3">
                                        <button type="button" class="btn btn-outline-warning btn-sm" onclick="resetCustomTheme()">
                                            <i class="fas fa-undo"></i> Reset to Defaults
                                        </button>
                                    </div>
                                </div>
                                
                                <h6>Theme Preview</h6>
                                <div class="alert alert-info">
                                    <i class="fas fa-info-circle"></i>
                                    Changes are applied instantly to the grid on the right. Use the preview to see how your theme looks before exporting.
                                </div>
                                
                                <h6>Available Themes</h6>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="list-group list-group-sm">
                                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                                <div>
                                                    <strong>Bootstrap Default</strong>
                                                    <br><small class="text-muted">Standard Bootstrap 5 styling with clean, modern look</small>
                                                </div>
                                                <span class="badge bg-primary">Default</span>
                                            </div>
                                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                                <div>
                                                    <strong>UI Lightness</strong>
                                                    <br><small class="text-muted">Clean light theme with subtle gradients</small>
                                                </div>
                                                <span class="badge bg-light text-dark">Light</span>
                                            </div>
                                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                                <div>
                                                    <strong>UI Darkness</strong>
                                                    <br><small class="text-muted">Dark theme for low-light environments</small>
                                                </div>
                                                <span class="badge bg-dark">Dark</span>
                                            </div>
                                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                                <div>
                                                    <strong>Material Design</strong>
                                                    <br><small class="text-muted">Google Material Design inspired theme</small>
                                                </div>
                                                <span class="badge bg-info">Material</span>
                                            </div>
                                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                                <div>
                                                    <strong>Modern Dark</strong>
                                                    <br><small class="text-muted">Modern dark mode with blue accents</small>
                                                </div>
                                                <span class="badge bg-secondary">Modern</span>
                                            </div>
                                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                                <div>
                                                    <strong>Custom Theme</strong>
                                                    <br><small class="text-muted">Create your own theme with color picker</small>
                                                </div>
                                                <span class="badge bg-warning text-dark">Custom</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Data Configuration Tab -->
                            <div class="tab-pane fade" id="data-config" role="tabpanel">
                                <h6>Data Source</h6>
                                
                                <div class="mb-3">
                                    <label class="form-label">Sample Data Set</label>
                                    <select id="sampleDataSet" class="form-select form-select-sm" onchange="changeSampleData()">
                                        <option value="products" selected>Products</option>
                                        <option value="employees">Employees</option>
                                        <option value="orders">Orders</option>
                                        <option value="customers">Customers</option>
                                        <optgroup label="Master-Detail Examples">
                                            <option value="companies">Companies (Master)</option>
                                            <option value="departments">Departments (Child)</option>
                                            <option value="company_employees">Company Employees (Grand-child)</option>
                                        </optgroup>
                                    </select>
                                    <small class="form-text text-muted">Choose a sample dataset for the grid preview</small>
                                </div>
                                
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="enableSubGrid" onchange="toggleSubGrid()">
                                    <label class="form-check-label" for="enableSubGrid">Enable SubGrid (Master-Detail)</label>
                                    <small class="form-text text-muted">Shows related records in expandable sub-grids</small>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Data Type</label>
                                    <select id="datatype" class="form-select form-select-sm" onchange="updateGridConfig()">
                                        <option value="local" selected>Local Data</option>
                                        <option value="json">JSON (AJAX)</option>
                                        <option value="xml">XML</option>
                                        <option value="function">Function</option>
                                    </select>
                                </div>
                                
                                <div class="mb-3" id="urlContainer" style="display: none;">
                                    <label class="form-label">Data URL</label>
                                    <input type="text" id="dataUrl" class="form-control form-control-sm" placeholder="/api/data/" onchange="updateGridConfig()">
                                </div>
                                
                                <h6>Sorting</h6>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Sort Column</label>
                                        <input type="text" id="sortname" class="form-control form-control-sm" value="id" onchange="updateGridConfig()">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">Sort Order</label>
                                        <select id="sortorder" class="form-select form-select-sm" onchange="updateGridConfig()">
                                            <option value="asc" selected>Ascending</option>
                                            <option value="desc">Descending</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="multiSort" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="multiSort">Multi-column Sorting</label>
                                </div>
                                
                                <h6>Loading</h6>
                                <div class="mb-3">
                                    <label class="form-label">Loading Text</label>
                                    <input type="text" id="loadtext" class="form-control form-control-sm" value="Loading..." onchange="updateGridConfig()">
                                </div>
                                
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="loadonce" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="loadonce">Load Once</label>
                                </div>
                                
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="loadui" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="loadui">Show Loading UI</label>
                                </div>
                                
                                <h6>Empty Grid</h6>
                                <div class="mb-3">
                                    <label class="form-label">Empty Records Text</label>
                                    <input type="text" id="emptyrecords" class="form-control form-control-sm" value="No records found" onchange="updateGridConfig()">
                                </div>
                            </div>
                            
                            <!-- Filters Configuration Tab -->
                            <div class="tab-pane fade" id="filters-config" role="tabpanel">
                                <h6>Filter Toolbar</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableFilterToolbar" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableFilterToolbar">Enable Filter Toolbar</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="filterOperators" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="filterOperators">Show Search Operators</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="clearSearch" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="clearSearch">Show Clear Buttons</label>
                                </div>
                                
                                <h6>Search Behavior</h6>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Default Search Operation</label>
                                        <select id="defaultSearchOp" class="form-select form-select-sm" onchange="updateGridConfig()">
                                            <option value="cn" selected>Contains</option>
                                            <option value="eq">Equals</option>
                                            <option value="bw">Begins With</option>
                                            <option value="ew">Ends With</option>
                                            <option value="ne">Not Equal</option>
                                        </select>
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">Search Delay (ms)</label>
                                        <input type="number" id="searchDelay" class="form-control form-control-sm" value="500" min="0" max="2000" onchange="updateGridConfig()">
                                    </div>
                                </div>
                                
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="searchOnEnterOnly" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="searchOnEnterOnly">Search Only on Enter</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="stringResult" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="stringResult">String Result</label>
                                </div>
                                
                                <h6>Advanced Search</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableAdvancedSearch" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableAdvancedSearch">Enable Advanced Search Dialog</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="multipleSearch" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="multipleSearch">Multiple Search Groups</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="showQuery" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="showQuery">Show Query</label>
                                </div>
                                
                                <h6>Column-Specific Operators</h6>
                                <div class="mb-3">
                                    <label class="form-label">Text Columns</label>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="checkbox" id="opEquals" checked>
                                        <label class="form-check-label" for="opEquals">Equals</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="checkbox" id="opContains" checked>
                                        <label class="form-check-label" for="opContains">Contains</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="checkbox" id="opBeginsWith" checked>
                                        <label class="form-check-label" for="opBeginsWith">Begins With</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="checkbox" id="opEndsWith" checked>
                                        <label class="form-check-label" for="opEndsWith">Ends With</label>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Number Columns</label>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="checkbox" id="opLessThan" checked>
                                        <label class="form-check-label" for="opLessThan">Less Than</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="checkbox" id="opGreaterThan" checked>
                                        <label class="form-check-label" for="opGreaterThan">Greater Than</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="checkbox" id="opBetween">
                                        <label class="form-check-label" for="opBetween">Between</label>
                                    </div>
                                </div>
                                
                                <h6>Filter Presets</h6>
                                <div class="mb-3">
                                    <button class="btn btn-outline-primary btn-sm me-2" onclick="applyFilterPreset('active')">Active Records</button>
                                    <button class="btn btn-outline-secondary btn-sm me-2" onclick="applyFilterPreset('expensive')">Price > $30</button>
                                    <button class="btn btn-outline-warning btn-sm" onclick="applyFilterPreset('lowstock')">Low Stock</button>
                                </div>
                            </div>
                            
                            <!-- Advanced Configuration Tab -->
                            <div class="tab-pane fade" id="advanced-config" role="tabpanel">
                                <h6>Editing</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="inlineEdit" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="inlineEdit">Inline Editing</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="cellEdit" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="cellEdit">Cell Editing</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="formEdit" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="formEdit">Form Editing</label>
                                </div>
                                
                                <h6>Grouping</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="grouping" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="grouping">Enable Grouping</label>
                                </div>
                                
                                <div class="mb-3" id="groupingOptions" style="display: none;">
                                    <label class="form-label">Group By Column</label>
                                    <input type="text" id="groupField" class="form-control form-control-sm" placeholder="category" onchange="updateGridConfig()">
                                </div>
                                
                                <h6>Search & Filter</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="search" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="search">Search Toolbar</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="filterToolbar" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="filterToolbar">Filter Toolbar</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="searchOnEnter" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="searchOnEnter">Search on Enter</label>
                                </div>
                                
                                <h6>Grid State</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="remapColumns" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="remapColumns">Remap Columns</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="hidegrid" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="hidegrid">Hide Grid Button</label>
                                </div>
                                
                                <h6>Performance</h6>
                                <div class="mb-3">
                                    <label class="form-label">Scroll Timeout</label>
                                    <input type="number" id="scrollTimeout" class="form-control form-control-sm" value="200" min="0" max="1000" onchange="updateGridConfig()">
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="scroll" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="scroll">Virtual Scrolling</label>
                                </div>
                            </div>
                            
                            <!-- Navigation & Actions Configuration Tab -->
                            <div class="tab-pane fade" id="navigation-config" role="tabpanel">
                                <h6>Navigator Bar</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableNavigator" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableNavigator">Enable Navigator</label>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <div class="form-check mb-2">
                                            <input class="form-check-input nav-option" type="checkbox" id="navAdd" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="navAdd">Add Button</label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input nav-option" type="checkbox" id="navEdit" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="navEdit">Edit Button</label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input nav-option" type="checkbox" id="navDelete" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="navDelete">Delete Button</label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check mb-2">
                                            <input class="form-check-input nav-option" type="checkbox" id="navSearch" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="navSearch">Search Button</label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input nav-option" type="checkbox" id="navRefresh" checked onchange="updateGridConfig()">
                                            <label class="form-check-label" for="navRefresh">Refresh Button</label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input nav-option" type="checkbox" id="navView" onchange="updateGridConfig()">
                                            <label class="form-check-label" for="navView">View Button</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <h6>Custom Actions</h6>
                                <div id="customActions">
                                    <div class="custom-action-item mb-2 p-2 border rounded">
                                        <div class="row">
                                            <div class="col-4">
                                                <input type="text" class="form-control form-control-sm" placeholder="Button Text" value="Export">
                                            </div>
                                            <div class="col-4">
                                                <input type="text" class="form-control form-control-sm" placeholder="Icon Class" value="fa-download">
                                            </div>
                                            <div class="col-3">
                                                <select class="form-select form-select-sm">
                                                    <option value="nav">Navigator</option>
                                                    <option value="toolbar">Toolbar</option>
                                                    <option value="column">Column Header</option>
                                                </select>
                                            </div>
                                            <div class="col-1">
                                                <button class="btn btn-outline-danger btn-sm" onclick="removeCustomAction(this)"></button>
                                            </div>
                                        </div>
                                        <div class="mt-2">
                                            <input type="text" class="form-control form-control-sm" placeholder="JavaScript Function" value="exportData()">
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-outline-primary btn-sm" onclick="addCustomAction()">Add Custom Action</button>
                                
                                <h6 class="mt-3">Button Settings</h6>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Button Width</label>
                                        <input type="number" id="navButtonWidth" class="form-control form-control-sm" value="70" min="50" max="150" onchange="updateGridConfig()">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">Position</label>
                                        <select id="navPosition" class="form-select form-select-sm" onchange="updateGridConfig()">
                                            <option value="left">Left</option>
                                            <option value="center" selected>Center</option>
                                            <option value="right">Right</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <h6>Confirmation Dialogs</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="confirmDelete" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="confirmDelete">Confirm Delete</label>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Delete Message</label>
                                    <input type="text" id="deleteMessage" class="form-control form-control-sm" value="Are you sure you want to delete this record?" onchange="updateGridConfig()">
                                </div>
                            </div>
                            
                            <!-- Forms Configuration Tab -->
                            <div class="tab-pane fade" id="forms-config" role="tabpanel">
                                <h6>Form Dialog Settings</h6>
                                
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Form Width</label>
                                        <input type="number" id="formWidth" class="form-control form-control-sm" value="400" min="300" max="800" onchange="updateGridConfig()">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">Form Height</label>
                                        <input type="number" id="formHeight" class="form-control form-control-sm" value="350" min="250" max="600" onchange="updateGridConfig()">
                                    </div>
                                </div>
                                
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="formModal" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="formModal">Modal Dialog</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="formResize" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="formResize">Resizable</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="formDraggable" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="formDraggable">Draggable</label>
                                </div>
                                
                                <h6>Form Labels</h6>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Add Form Title</label>
                                        <input type="text" id="addFormTitle" class="form-control form-control-sm" value="Add Record" onchange="updateGridConfig()">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">Edit Form Title</label>
                                        <input type="text" id="editFormTitle" class="form-control form-control-sm" value="Edit Record" onchange="updateGridConfig()">
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Delete Form Title</label>
                                        <input type="text" id="deleteFormTitle" class="form-control form-control-sm" value="Delete Record" onchange="updateGridConfig()">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">View Form Title</label>
                                        <input type="text" id="viewFormTitle" class="form-control form-control-sm" value="View Record" onchange="updateGridConfig()">
                                    </div>
                                </div>
                                
                                <h6>Button Labels</h6>
                                <div class="row mb-3">
                                    <div class="col-4">
                                        <label class="form-label">Submit Button</label>
                                        <input type="text" id="submitText" class="form-control form-control-sm" value="Submit" onchange="updateGridConfig()">
                                    </div>
                                    <div class="col-4">
                                        <label class="form-label">Cancel Button</label>
                                        <input type="text" id="cancelText" class="form-control form-control-sm" value="Cancel" onchange="updateGridConfig()">
                                    </div>
                                    <div class="col-4">
                                        <label class="form-label">Close Button</label>
                                        <input type="text" id="closeText" class="form-control form-control-sm" value="Close" onchange="updateGridConfig()">
                                    </div>
                                </div>
                                
                                <h6>Validation</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="clientSideValidation" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="clientSideValidation">Client-side Validation</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="serverSideValidation" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="serverSideValidation">Server-side Validation</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="showValidationErrors" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="showValidationErrors">Show Validation Errors</label>
                                </div>
                                
                                <h6>AJAX Settings</h6>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Add URL</label>
                                        <input type="text" id="addUrl" class="form-control form-control-sm" placeholder="/api/add/" onchange="updateGridConfig()">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">Edit URL</label>
                                        <input type="text" id="editUrl" class="form-control form-control-sm" placeholder="/api/edit/" onchange="updateGridConfig()">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label">Delete URL</label>
                                        <input type="text" id="deleteUrl" class="form-control form-control-sm" placeholder="/api/delete/" onchange="updateGridConfig()">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">HTTP Method</label>
                                        <select id="formMethod" class="form-select form-select-sm" onchange="updateGridConfig()">
                                            <option value="POST" selected>POST</option>
                                            <option value="PUT">PUT</option>
                                            <option value="PATCH">PATCH</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- SubGrid & TreeGrid Configuration Tab -->
                            <div class="tab-pane fade" id="subgrid-config" role="tabpanel">
                                <h6>SubGrid Settings</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableSubgrid" onchange="toggleSubgridOptions(); updateGridConfig()">
                                    <label class="form-check-label" for="enableSubgrid">Enable SubGrid</label>
                                </div>
                                
                                <div id="subgridOptions" style="display: none;">
                                    <div class="mb-3">
                                        <label class="form-label">SubGrid URL</label>
                                        <input type="text" id="subgridUrl" class="form-control form-control-sm" placeholder="/api/subgrid/" onchange="updateGridConfig()">
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-6">
                                            <label class="form-label">SubGrid Width</label>
                                            <input type="number" id="subgridWidth" class="form-control form-control-sm" value="20" min="15" max="50" onchange="updateGridConfig()">
                                        </div>
                                        <div class="col-6">
                                            <label class="form-label">Expand Column</label>
                                            <input type="text" id="expandColumn" class="form-control form-control-sm" placeholder="id" onchange="updateGridConfig()">
                                        </div>
                                    </div>
                                    
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="subgridReload" checked onchange="updateGridConfig()">
                                        <label class="form-check-label" for="subgridReload">Reload on Expand</label>
                                    </div>
                                    
                                    <h6>SubGrid Model</h6>
                                    <div class="mb-3">
                                        <label class="form-label">SubGrid Columns (JSON)</label>
                                        <textarea id="subgridModel" class="form-control form-control-sm" rows="4" placeholder='[{"name":"id","width":50},{"name":"name","width":200}]' onchange="updateGridConfig()"></textarea>
                                    </div>
                                </div>
                                
                                <h6>TreeGrid Settings</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableTreegrid" onchange="toggleTreegridOptions(); updateGridConfig()">
                                    <label class="form-check-label" for="enableTreegrid">Enable TreeGrid</label>
                                </div>
                                
                                <div id="treegridOptions" style="display: none;">
                                    <div class="row mb-3">
                                        <div class="col-6">
                                            <label class="form-label">Tree Column</label>
                                            <input type="text" id="treeGridColumn" class="form-control form-control-sm" placeholder="name" onchange="updateGridConfig()">
                                        </div>
                                        <div class="col-6">
                                            <label class="form-label">Tree Model</label>
                                            <select id="treeGridModel" class="form-select form-select-sm" onchange="updateGridConfig()">
                                                <option value="nested" selected>Nested</option>
                                                <option value="adjacency">Adjacency</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-3">
                                        <div class="col-4">
                                            <label class="form-label">Expand Level</label>
                                            <input type="number" id="expandLevel" class="form-control form-control-sm" value="1" min="0" max="10" onchange="updateGridConfig()">
                                        </div>
                                        <div class="col-4">
                                            <label class="form-label">Tree Icons</label>
                                            <select id="treeIcons" class="form-select form-select-sm" onchange="updateGridConfig()">
                                                <option value="default" selected>Default</option>
                                                <option value="custom">Custom</option>
                                                <option value="none">None</option>
                                            </select>
                                        </div>
                                        <div class="col-4">
                                            <label class="form-label">Tree Root Level</label>
                                            <input type="number" id="treeRootLevel" class="form-control form-control-sm" value="0" min="0" max="5" onchange="updateGridConfig()">
                                        </div>
                                    </div>
                                    
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="treeAsList" onchange="updateGridConfig()">
                                        <label class="form-check-label" for="treeAsList">Tree as List</label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Events & Callbacks Configuration Tab -->
                            <div class="tab-pane fade" id="events-config" role="tabpanel">
                                <h6>Grid Events</h6>
                                <div class="event-item mb-3">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="enableLoadComplete" onchange="updateGridConfig()">
                                        <label class="form-check-label" for="enableLoadComplete">loadComplete</label>
                                    </div>
                                    <textarea class="form-control form-control-sm" rows="2" placeholder="function() { console.log('Grid loaded'); }" onchange="updateGridConfig()"></textarea>
                                </div>
                                
                                <div class="event-item mb-3">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="enableOnSelectRow" onchange="updateGridConfig()">
                                        <label class="form-check-label" for="enableOnSelectRow">onSelectRow</label>
                                    </div>
                                    <textarea class="form-control form-control-sm" rows="2" placeholder="function(rowid, status) { console.log('Row selected:', rowid); }" onchange="updateGridConfig()"></textarea>
                                </div>
                                
                                <div class="event-item mb-3">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="enableOnCellSelect" onchange="updateGridConfig()">
                                        <label class="form-check-label" for="enableOnCellSelect">onCellSelect</label>
                                    </div>
                                    <textarea class="form-control form-control-sm" rows="2" placeholder="function(rowid, iCol, cellcontent, e) { console.log('Cell selected'); }" onchange="updateGridConfig()"></textarea>
                                </div>
                                
                                <div class="event-item mb-3">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="enableOnDoubleClick" onchange="updateGridConfig()">
                                        <label class="form-check-label" for="enableOnDoubleClick">ondblClickRow</label>
                                    </div>
                                    <textarea class="form-control form-control-sm" rows="2" placeholder="function(rowid, iRow, iCol, e) { console.log('Row double clicked'); }" onchange="updateGridConfig()"></textarea>
                                </div>
                                
                                <div class="event-item mb-3">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="enableOnRightClick" onchange="updateGridConfig()">
                                        <label class="form-check-label" for="enableOnRightClick">onRightClickRow</label>
                                    </div>
                                    <textarea class="form-control form-control-sm" rows="2" placeholder="function(rowid, iRow, iCol, e) { console.log('Right click'); }" onchange="updateGridConfig()"></textarea>
                                </div>
                                
                                <h6>Edit Events</h6>
                                <div class="event-item mb-3">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="enableBeforeEditCell" onchange="updateGridConfig()">
                                        <label class="form-check-label" for="enableBeforeEditCell">beforeEditCell</label>
                                    </div>
                                    <textarea class="form-control form-control-sm" rows="2" placeholder="function(rowid, cellname, value, iRow, iCol) { return true; }" onchange="updateGridConfig()"></textarea>
                                </div>
                                
                                <div class="event-item mb-3">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="enableAfterEditCell" onchange="updateGridConfig()">
                                        <label class="form-check-label" for="enableAfterEditCell">afterEditCell</label>
                                    </div>
                                    <textarea class="form-control form-control-sm" rows="2" placeholder="function(rowid, cellname, value, iRow, iCol) { console.log('Cell edited'); }" onchange="updateGridConfig()"></textarea>
                                </div>
                                
                                <h6>Form Events</h6>
                                <div class="event-item mb-3">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="enableBeforeSubmit" onchange="updateGridConfig()">
                                        <label class="form-check-label" for="enableBeforeSubmit">beforeSubmit</label>
                                    </div>
                                    <textarea class="form-control form-control-sm" rows="2" placeholder="function(postdata, formid) { return [true, '']; }" onchange="updateGridConfig()"></textarea>
                                </div>
                                
                                <div class="event-item mb-3">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="enableAfterSubmit" onchange="updateGridConfig()">
                                        <label class="form-check-label" for="enableAfterSubmit">afterSubmit</label>
                                    </div>
                                    <textarea class="form-control form-control-sm" rows="2" placeholder="function(response, postdata) { return [true, '']; }" onchange="updateGridConfig()"></textarea>
                                </div>
                                
                                <button class="btn btn-outline-primary btn-sm" onclick="addCustomEvent()">Add Custom Event</button>
                            </div>
                            
                            <!-- Plugins Configuration Tab -->
                            <div class="tab-pane fade" id="plugins-config" role="tabpanel">
                                <h6>Export Plugins</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableExcelExport" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableExcelExport">Excel Export</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableCsvExport" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableCsvExport">CSV Export</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enablePdfExport" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enablePdfExport">PDF Export</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="enablePrintView" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enablePrintView">Print View</label>
                                </div>
                                
                                <h6>Column Plugins</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableColumnChooser" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableColumnChooser">Column Chooser</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableColumnReordering" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableColumnReordering">Column Reordering</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableColumnResizing" checked onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableColumnResizing">Column Resizing</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="enableFrozenColumns" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableFrozenColumns">Frozen Columns</label>
                                </div>
                                
                                <h6>Search Plugins</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableAdvancedSearch" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableAdvancedSearch">Advanced Search</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableQuickSearch" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableQuickSearch">Quick Search</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="enableFilterPanel" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableFilterPanel">Filter Panel</label>
                                </div>
                                
                                <h6>UI Enhancement Plugins</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableRowActions" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableRowActions">Row Actions</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableContextMenu" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableContextMenu">Context Menu</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableTooltips" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableTooltips">Cell Tooltips</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="enableProgressBar" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableProgressBar">Progress Bar</label>
                                </div>
                                
                                <h6>Mobile & Responsive</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableMobileView" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableMobileView">Mobile Optimized</label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="enableTouchSupport" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableTouchSupport">Touch Support</label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="enableResponsive" onchange="updateGridConfig()">
                                    <label class="form-check-label" for="enableResponsive">Responsive Layout</label>
                                </div>
                                
                                <h6>Custom Plugins</h6>
                                <div id="customPlugins">
                                    <div class="custom-plugin-item mb-2 p-2 border rounded">
                                        <div class="row">
                                            <div class="col-6">
                                                <input type="text" class="form-control form-control-sm" placeholder="Plugin Name" value="CustomFormatter">
                                            </div>
                                            <div class="col-5">
                                                <input type="text" class="form-control form-control-sm" placeholder="Plugin File" value="jquery.custom.js">
                                            </div>
                                            <div class="col-1">
                                                <button class="btn btn-outline-danger btn-sm" onclick="removeCustomPlugin(this)"></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-outline-primary btn-sm" onclick="addCustomPlugin()">Add Custom Plugin</button>
                            </div>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="p-3 border-top bg-light">
                            <div class="row">
                                <div class="col-6">
                                    <button class="btn btn-primary btn-sm w-100" onclick="generateCode()">
                                        <i class="fas fa-code"></i> Generate
                                    </button>
                                </div>
                                <div class="col-6">
                                    <div class="btn-group w-100" role="group">
                                        <button class="btn btn-success btn-sm" onclick="exportConfig()">
                                            <i class="fas fa-download"></i>
                                        </button>
                                        <button class="btn btn-info btn-sm" onclick="importConfig()">
                                            <i class="fas fa-upload"></i>
                                        </button>
                                        <button class="btn btn-warning btn-sm" onclick="resetConfig()">
                                            <i class="fas fa-undo"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-8">
                    <!-- Live Preview -->
                    <div class="mb-3">
                        <h5>Live Preview</h5>
                        <div class="grid-builder">
                            <table id="builderGrid"></table>
                            <div id="builderPager"></div>
                        </div>
                    </div>
                    
                    <!-- Generated Code -->
                    <div class="mt-3">
                        <h6>Generated JavaScript Code</h6>
                        <pre class="code-preview p-3" id="generatedCode">
// Grid configuration will appear here
$("#grid").jqGrid({
    // Configuration options...
});
                        </pre>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Inline Editing Demo -->
    <div class="feature-demo inline-edit-demo">
        <div class="demo-header">
            <h3 class="mb-0">
                <i class="fas fa-edit text-success"></i>
                Inline Editing Features
            </h3>
            <p class="mb-0 text-muted">Double-click any cell to edit data inline</p>
        </div>
        <div class="demo-content">
            <div class="mb-3">
                <button class="btn btn-success btn-sm btn-feature" onclick="enableInlineEdit()">
                    <i class="fas fa-edit"></i> Enable Inline Edit
                </button>
                <button class="btn btn-warning btn-sm btn-feature" onclick="addNewRow()">
                    <i class="fas fa-plus"></i> Add Row
                </button>
                <button class="btn btn-info btn-sm btn-feature" onclick="saveAllChanges()">
                    <i class="fas fa-save"></i> Save All
                </button>
                <button class="btn btn-secondary btn-sm btn-feature" onclick="cancelEdit()">
                    <i class="fas fa-times"></i> Cancel
                </button>
            </div>
            <table id="inlineEditGrid"></table>
            <div id="inlineEditPager"></div>
        </div>
    </div>

    <!-- SearchOptions Configuration Demo -->
    <div class="feature-demo">
        <div class="demo-header">
            <h3 class="mb-0">
                <i class="fas fa-cog text-success"></i>
                SearchOptions Configuration Guide
            </h3>
            <p class="mb-0 text-muted">Comprehensive guide to jqGrid searchoptions for advanced column filtering</p>
        </div>
        <div class="demo-content">
            <div class="row">
                <div class="col-md-6">
                    <div class="card border-primary">
                        <div class="card-header bg-primary text-white">
                            <h6 class="mb-0"><i class="fas fa-book"></i> SearchOptions Properties</h6>
                        </div>
                        <div class="card-body p-2">
                            <div class="accordion" id="searchOptionsAccordion">
                                <!-- Basic Properties -->
                                <div class="accordion-item">
                                    <h6 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#basicProps">
                                            Basic Properties
                                        </button>
                                    </h6>
                                    <div id="basicProps" class="accordion-collapse collapse" data-bs-parent="#searchOptionsAccordion">
                                        <div class="accordion-body p-2">
                                            <small>
                                                <strong>sopt:</strong> Array of search operators<br>
                                                <strong>defaultValue:</strong> Default filter value<br>
                                                <strong>attr:</strong> HTML attributes for input<br>
                                                <strong>searchhidden:</strong> Search hidden columns<br>
                                                <strong>clearSearch:</strong> Show clear button
                                            </small>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Select Options -->
                                <div class="accordion-item">
                                    <h6 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#selectProps">
                                            Select Options
                                        </button>
                                    </h6>
                                    <div id="selectProps" class="accordion-collapse collapse" data-bs-parent="#searchOptionsAccordion">
                                        <div class="accordion-body p-2">
                                            <small>
                                                <strong>value:</strong> ":All;val1:Display1;val2:Display2"<br>
                                                <strong>multiple:</strong> Allow multiple selection<br>
                                                <strong>selectFilled:</strong> Fill select with data<br>
                                                <strong>size:</strong> Select element size
                                            </small>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Date Options -->
                                <div class="accordion-item">
                                    <h6 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#dateProps">
                                            Date Options
                                        </button>
                                    </h6>
                                    <div id="dateProps" class="accordion-collapse collapse" data-bs-parent="#searchOptionsAccordion">
                                        <div class="accordion-body p-2">
                                            <small>
                                                <strong>dataInit:</strong> Date picker initialization<br>
                                                <strong>dateFormat:</strong> Date format pattern<br>
                                                <strong>showOn:</strong> Show trigger (focus/button)<br>
                                                <strong>minDate:</strong> Minimum selectable date<br>
                                                <strong>maxDate:</strong> Maximum selectable date
                                            </small>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Advanced Options -->
                                <div class="accordion-item">
                                    <h6 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#advancedProps">
                                            Advanced Options
                                        </button>
                                    </h6>
                                    <div id="advancedProps" class="accordion-collapse collapse" data-bs-parent="#searchOptionsAccordion">
                                        <div class="accordion-body p-2">
                                            <small>
                                                <strong>searchOperMenu:</strong> Show operator menu<br>
                                                <strong>searchOperators:</strong> Enable operators<br>
                                                <strong>noFilterText:</strong> Placeholder text<br>
                                                <strong>recreateForm:</strong> Recreate search form<br>
                                                <strong>width:</strong> Filter input width
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="card border-info">
                        <div class="card-header bg-info text-white">
                            <h6 class="mb-0"><i class="fas fa-code"></i> Quick Examples</h6>
                        </div>
                        <div class="card-body p-2">
                            <div class="mb-3">
                                <button class="btn btn-outline-primary btn-sm me-1" onclick="showSearchOptionExample('text')">Text Field</button>
                                <button class="btn btn-outline-success btn-sm me-1" onclick="showSearchOptionExample('select')">Select List</button>
                                <button class="btn btn-outline-warning btn-sm me-1" onclick="showSearchOptionExample('date')">Date Picker</button>
                                <button class="btn btn-outline-info btn-sm" onclick="showSearchOptionExample('number')">Number Range</button>
                            </div>
                            <pre id="searchOptionCode" class="bg-dark text-light p-2 rounded" style="font-size: 11px; max-height: 300px; overflow-y: auto;">
// Click a button above to see searchoptions examples
// Each example shows different configuration options
// for various input types and search behaviors

{
    name: 'columnName',
    searchoptions: {
        // Configuration will appear here
    }
}
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-3">
                <table id="searchOptionsGrid"></table>
                <div id="searchOptionsPager"></div>
            </div>
        </div>
    </div>

    <!-- Advanced Column Filters Demo -->
    <div class="feature-demo">
        <div class="demo-header">
            <h3 class="mb-0">
                <i class="fas fa-filter text-primary"></i>
                Advanced Column Filters with Expression Menu
            </h3>
            <p class="mb-0 text-muted">Interactive column filtering with dropdown operators and context menus</p>
        </div>
        <div class="demo-content">
            <div class="mb-3">
                <div class="row">
                    <div class="col-md-8">
                        <button class="btn btn-outline-success btn-sm btn-feature" onclick="addCustomSearchOperation('advancedFilterGrid', 'price', 'gt', '25')">
                            <i class="fas fa-search-plus"></i> Price > $25
                        </button>
                        <button class="btn btn-outline-info btn-sm btn-feature" onclick="addCustomSearchOperation('advancedFilterGrid', 'status', 'eq', 'active')">
                            <i class="fas fa-check-circle"></i> Active Only
                        </button>
                        <button class="btn btn-outline-warning btn-sm btn-feature" onclick="addCustomSearchOperation('advancedFilterGrid', 'name', 'cn', 'Product')">
                            <i class="fas fa-search"></i> Name Contains "Product"
                        </button>
                        <button class="btn btn-outline-danger btn-sm btn-feature" onclick="clearAllFilters('advancedFilterGrid')">
                            <i class="fas fa-times"></i> Clear All
                        </button>
                    </div>
                    <div class="col-md-4 text-end">
                        <button class="btn btn-outline-secondary btn-sm btn-feature" onclick="exportFilterState('advancedFilterGrid')">
                            <i class="fas fa-download"></i> Export Filters
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="alert alert-info mb-3">
                <strong>How to use:</strong>
                <ul class="mb-0 mt-2">
                    <li>Click on any filter input field to enter search criteria</li>
                    <li>Use the dropdown arrow next to each field to select search operators (equals, contains, greater than, etc.)</li>
                    <li>Combine multiple filters - they work together with AND logic</li>
                    <li>Right-click on column headers for additional filter options</li>
                    <li>Use the 'X' button to clear individual column filters</li>
                </ul>
            </div>
            
            <table id="advancedFilterGrid"></table>
            <div id="advancedFilterPager"></div>
        </div>
    </div>

    <!-- Custom Formatters Demo -->
    <div class="feature-demo">
        <div class="demo-header">
            <h3 class="mb-0">
                <i class="fas fa-paint-brush text-info"></i>
                Custom Formatters & Cell Renderers
            </h3>
            <p class="mb-0 text-muted">Custom formatting for different data types</p>
        </div>
        <div class="demo-content">
            <div class="mb-3">
                <button class="btn btn-outline-primary btn-sm btn-feature" onclick="toggleFormatter('currency')">
                    Currency Format
                </button>
                <button class="btn btn-outline-primary btn-sm btn-feature" onclick="toggleFormatter('progress')">
                    Progress Bars
                </button>
                <button class="btn btn-outline-primary btn-sm btn-feature" onclick="toggleFormatter('status')">
                    Status Indicators
                </button>
                <button class="btn btn-outline-primary btn-sm btn-feature" onclick="toggleFormatter('actions')">
                    Action Buttons
                </button>
            </div>
            <table id="formatterGrid"></table>
            <div id="formatterPager"></div>
        </div>
    </div>

    <!-- Dynamic Configuration Demo -->
    <div class="feature-demo">
        <div class="demo-header">
            <h3 class="mb-0">
                <i class="fas fa-sliders-h text-warning"></i>
                Dynamic Grid Configuration
            </h3>
            <p class="mb-0 text-muted">Change grid behavior and appearance on the fly</p>
        </div>
        <div class="demo-content">
            <div class="row mb-3">
                <div class="col-md-6">
                    <h6>Grid Appearance</h6>
                    <button class="btn btn-outline-secondary btn-sm btn-feature" onclick="changeTheme('ui-lightness')">Light Theme</button>
                    <button class="btn btn-outline-dark btn-sm btn-feature" onclick="changeTheme('ui-darkness')">Dark Theme</button>
                    <button class="btn btn-outline-primary btn-sm btn-feature" onclick="changeTheme('bootstrap')">Bootstrap</button>
                </div>
                <div class="col-md-6">
                    <h6>Grid Behavior</h6>
                    <button class="btn btn-outline-info btn-sm btn-feature" onclick="toggleGrouping()">Toggle Grouping</button>
                    <button class="btn btn-outline-success btn-sm btn-feature" onclick="toggleFrozenColumns()">Freeze Columns</button>
                    <button class="btn btn-outline-warning btn-sm btn-feature" onclick="toggleSubGrid()">Sub Grids</button>
                </div>
            </div>
            <table id="dynamicGrid"></table>
            <div id="dynamicPager"></div>
        </div>
    </div>

    <!-- Event Handling Demo -->
    <div class="feature-demo">
        <div class="demo-header">
            <h3 class="mb-0">
                <i class="fas fa-bolt text-danger"></i>
                Event Handling & Callbacks
            </h3>
            <p class="mb-0 text-muted">Interactive events and custom callbacks</p>
        </div>
        <div class="demo-content">
            <div class="row">
                <div class="col-md-8">
                    <table id="eventGrid"></table>
                    <div id="eventPager"></div>
                </div>
                <div class="col-md-4">
                    <h6>Event Log</h6>
                    <div id="eventLog" class="border p-2" style="height: 300px; overflow-y: auto; font-family: monospace; font-size: 0.8rem; background: #f8f9fa;">
                        <div class="text-muted">Events will appear here...</div>
                    </div>
                    <button class="btn btn-outline-secondary btn-sm mt-2" onclick="clearEventLog()">Clear Log</button>
                </div>
            </div>
        </div>
    </div>

</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'example/js/advanced-features.js' %}"></script>
<script>
// Initialize all demo grids when page loads
$(document).ready(function() {
    initializeBuilderGrid();
    initializeInlineEditGrid();
    initializeSearchOptionsGrid();
    initializeAdvancedFilterGrid();
    initializeFormatterGrid();
    initializeDynamicGrid();
    initializeEventGrid();
    updateGridConfig();
});
</script>
{% endblock %}